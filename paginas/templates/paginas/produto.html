{% extends 'paginas/index.html' %}

{% block conteudo %}
<div class="container mt-5">
  <div class="row">
    <!-- Imagem do produto -->
    <div class="col-md-5">
      <img src="{{ object.imagem.url }}" class="img-fluid rounded" alt="{{ object.nome }}">
    </div>

    <!-- Informações do produto -->
    <div class="col-md-7 d-flex flex-column justify-content-start">
      <h2 class="mt-2">{{ object.nome }} {{ object.marca }}</h2>
      <h4 class="mt-2">R$ {{ object.preco }}</h4>
      <p class="mt-3">{{ object.descricao }}</p>
      <form action="{% url 'adicionar-produto-carrinho' produto.id %}" method="post">
        {% csrf_token %}
        <div class="d-flex align-items-center">
            <label for="quantidade" class="card-text mb-0 me-2 fw-semibold">Quantidade:</label>

            <div class="d-inline-flex align-items-center border rounded-pill shadow-sm bg-white px-2 py-1" style="min-width: 130px;">
                <button type="button" class="btn btn-outline-secondary btn-sm rounded-circle me-2" style="width: 32px; height: 32px; padding: 0;" onclick="alterarQuantidade(-1)">
                    <i class="bi bi-dash"></i>
                </button>

                <input type="number" name="quantidade" id="quantidade" value="1" min="1" class="form-control text-center fw-bold border-0 bg-transparent p-0" style="width: 40px;">

                <button type="button" class="btn btn-outline-secondary btn-sm rounded-circle ms-2" style="width: 32px; height: 32px; padding: 0;" onclick="alterarQuantidade(1)">
                    <i class="bi bi-plus"></i>
                </button>
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Adicionar ao Carrinho</button>
    </form>


      <!-- Você pode adicionar mais detalhes aqui -->
    </div>
  </div>
</div>

{% endblock %}

{% block scripts %}
<script>
function alterarQuantidade(delta) {
    const input = document.getElementById('quantidade');
    let valor = parseInt(input.value) || 1;
    valor = Math.max(1, valor + delta);
    input.value = valor;
}
</script>

{% endblock %}
